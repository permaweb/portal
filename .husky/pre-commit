#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Ensure language.ts keys are sorted before commit
npm run fix:lang

# Optionally run format/lint
npm run format --silent || true

echo "pre-commit checks complete"

#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

set -euo pipefail
# Make sure we’re at repo root
cd -P "$(git rev-parse --show-toplevel)"

# Your custom step first (fail fast if it must pass)
npm run fix:lang

# Format only staged files, chunked & safe
npx lint-staged --quiet

echo "✅ pre-commit checks complete"